(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{151:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return r})),a.d(n,"metadata",(function(){return c})),a.d(n,"rightToc",(function(){return s})),a.d(n,"default",(function(){return p}));var t=a(2),i=a(9),o=(a(0),a(155)),r={id:"mtd-guides-prepare",title:"Preparing your data"},c={id:"mtd-guides-prepare",isDocsHomePage:!1,title:"Preparing your data",description:"These guides assume you are comfortable with the Command Line, Git and Python). You must have all of these installed on your machine. You are also strongly encouraged to have a GitHub account. You are encouraged to fork or clone the Mother Tongues Dictionary Starter and follow along.",source:"@site/docs/mtd-guides-prepare.md",permalink:"/docs/mtd-guides-prepare",editUrl:"https://github.com/MotherTongues/mothertongues-docs/edit/master/website/docs/mtd-guides-prepare.md",sidebar:"someSidebar",previous:{title:"How to follow the guides",permalink:"/docs/mtd-guides"},next:{title:"Visualizing your data",permalink:"/docs/mtd-guides-ui"}},s=[{value:"File structure",id:"file-structure",children:[]},{value:"MTD Language Configuration file",id:"mtd-language-configuration-file",children:[{value:"Customized Alphabet",id:"customized-alphabet",children:[]}]},{value:"MTD Data Resource Configuration file",id:"mtd-data-resource-configuration-file",children:[{value:"Optional Information",id:"optional-information",children:[]},{value:"Multimedia",id:"multimedia",children:[]},{value:"Semantic Categories",id:"semantic-categories",children:[]}]},{value:"Approximate Search",id:"approximate-search",children:[{value:"How does it work?",id:"how-does-it-work",children:[]},{value:"Creating a single mapping",id:"creating-a-single-mapping",children:[]},{value:"Creating a &#39;composite&#39; mapping",id:"creating-a-composite-mapping",children:[]},{value:"Plain functions",id:"plain-functions",children:[]}]},{value:"Seeing your dictionary in action!",id:"seeing-your-dictionary-in-action",children:[]}],l={rightToc:s};function p(e){var n=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(t.a)({},l,a,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"These guides assume you are comfortable with the ",Object(o.b)("a",Object(t.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Command-line_interface"}),"Command Line"),", ",Object(o.b)("a",Object(t.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Git"}),"Git")," and ",Object(o.b)("a",Object(t.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Python_(programming_language)"}),"Python"),". You must have all of these installed on your machine. You are also strongly encouraged to have a ",Object(o.b)("a",Object(t.a)({parentName:"em"},{href:"https://github.com"}),"GitHub")," account. You are encouraged to fork or clone the ",Object(o.b)("a",Object(t.a)({parentName:"em"},{href:"https://github.com/roedoejet/mtd-starter"}),"Mother Tongues Dictionary Starter")," and follow along.")),Object(o.b)("p",null,"The most time-intensive part of building your dictionary, depending on how you want to publish it, is preparing your data."),Object(o.b)("h2",{id:"file-structure"},"File structure"),Object(o.b)("p",null,"It is recommended that you keep the following structure for your\ndictionary."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This demo uses 'danish' as the example language - you should replace all instances of 'danish' with your language."))),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),"\ud83d\udce6mtd-danish\n \u2523 \ud83d\udcc2config\n \u2503 \u2523 \ud83d\udcdcconfig.json\n \u2503 \u2517 \ud83d\udcdcmanifest.json\n \u2523 \ud83d\udcc2data\n \u2503 \u2517 \ud83d\udcdcdata.csv\n \u2523 \ud83d\udcc2resources\n \u2503 \u2523 \ud83d\udcdcicon.png\n \u2503 \u2517 \ud83d\udcdcsplash.png\n \u2523 \ud83d\udcc2transducers\n \u2503 \u2517 \ud83d\udcdcdanish-approx.csv\n \u2503 \u2517 \ud83d\udcdcdanish-approx.yaml\n \u2523 \ud83d\udcdc.gitignore\n \u2523 \ud83d\udcdcLICENSE\n \u2523 \ud83d\udcdcREADME.md\n \u2523 \ud83d\udcdcalphabet.csv\n \u2523 \ud83d\udcdcindex.html\n \u2523 \ud83d\udcdcpackage.json\n \u2517 \ud83d\udcdcrequirements.txt\n")),Object(o.b)("p",null,"The folder struture of the ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/roedoejet/mtd-starter"}),"Mother Tongues Dictionary Starter")," follows this pattern which is part of why it's a good idea to use it to follow along."),Object(o.b)("p",null,"In order to make your Mother Tongues dictionary, you will need to to create one ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"#mtd-language-configuration-file"}),"Language\nConfiguration")," file for your\ndictionary and one ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"#mtd-data-resource-configuration-file"}),"Resource\nConfiguration")," file for ",Object(o.b)("em",{parentName:"p"},"each"),"\nsource of data. "),Object(o.b)("h2",{id:"mtd-language-configuration-file"},"MTD Language Configuration file"),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"In the starter, the language configuration file is found here: ",Object(o.b)("inlineCode",{parentName:"p"},"mtd-starter/config/config.json")))),Object(o.b)("p",null,"Every language must have a configuration file, and it must be validated\nagainst the following schema\n",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://roedoejet.github.io/mothertongues/mtd/languages/config_schema.json"}),"here."),"\nBelow is a minimal Language Configuration file labelled\n",Object(o.b)("inlineCode",{parentName:"p"},"danish_config.json"),". "),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n    "config":{\n        "L1": "Danish",\n        "L2": "English"\n    },\n    "data": [\n        {\n            "manifest": "./manifest.json",\n            "resource": "../../data.csv"\n        }\n    ]\n}\n')),Object(o.b)("h3",{id:"customized-alphabet"},"Customized Alphabet"),Object(o.b)("p",null,"Adding your custom alphabet allows your entries to be sorted based on\nthat alphabet. If you don't use a custom alphabet, the English alphabet will be used instead.\nIn your Language Configuration file, set the ",Object(o.b)("inlineCode",{parentName:"p"},"alphabet"),"\nkey equal to an array containing the letters in your language's\nalphabet in alphabetical order:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{5}","{5}":!0}),'{\n    "config":{\n        "L1": "Danish",\n        "L2": "English",\n        "alphabet": ["a", "b", "c"]\n    },\n    "data": [\n        {\n            "manifest": "./manifest.json",\n            "resource": "../../data.csv"\n        }\n    ]\n}\n')),Object(o.b)("p",null,"You can also reference a file that contains a csv of your alphabet:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{5}","{5}":!0}),'{\n    "config":{\n        "L1": "Danish",\n        "L2": "English",\n        "alphabet": "../alphabet.csv"\n    },\n    "data": [\n        {\n            "manifest": "./manifest.json",\n            "resource": "../../data.csv"\n        }\n    ]\n}\n')),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"In the starter, an alphabet file is used at ",Object(o.b)("inlineCode",{parentName:"p"},"mtd-starter/alphabet.csv")))),Object(o.b)("h2",{id:"mtd-data-resource-configuration-file"},"MTD Data Resource Configuration file"),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"In the starter, the data resource configuration file is found here: ",Object(o.b)("inlineCode",{parentName:"p"},"mtd-starter/config/manifest.json")))),Object(o.b)("p",null,"Every data resource must have a configuration, and it must be validated\nagainst the following schema\n",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://roedoejet.github.io/mothertongues/mtd/languages/manifest_schema.json"}),"here.")),Object(o.b)("p",null,"Below is a minimal Data Configuration. This must be\nreferenced in the language configuration above. "),Object(o.b)("p",null,"This configuration file\ndescribes a CSV dictionary resource that only has two columns where the\nfirst column includes the word in the target language and the second\ncolumn includes the 'definition' of that word or 'gloss' in the L2\nlanguage."),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n    "name": "2017 Spreadsheet",\n    "sorting": "word",\n    "targets": {\n        "word": "0",\n        "definition": "1"\n    }\n}\n')),Object(o.b)("p",null,"In the future, I would like to have an online schema validation tool in\nthe vein of\n",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://swagger.io/tools/swaggerhub/faster-api-design/"}),"SwaggerHub"),". Help with this is welcome!"),Object(o.b)("h3",{id:"optional-information"},"Optional Information"),Object(o.b)("p",null,'To add information that can be optionally displayed in the UI, you must\npoint to it in your Data Resource configuration file. For example, if\nyou wanted to add "Part of Speech" information that could be displayed\noptionally and that was present in column "F" of an Excel spreadsheet, you\nwould add the following to your Data Resource configuration file:'),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{7-11}","{7-11}":!0}),'{\n    "name": "2018 Spreadsheet",\n    "sorting": "word",\n    "targets": {\n        "word": "A",\n        "definition": "B",\n         "optional": [\n            { \n                "Part of Speech": "F"\n            }\n        ]\n    }\n}\n')),Object(o.b)("h3",{id:"multimedia"},"Multimedia"),Object(o.b)("p",null,"To add images and audio, you must have the filenames of your files in\nyour dictionary data resource. Then, change your Data Resource\nconfiguration files to point to the location of the filenames."),Object(o.b)("h4",{id:"images"},"Images"),Object(o.b)("p",null,"For images, just add a target for the ",Object(o.b)("inlineCode",{parentName:"p"},"img"),' key. Take the following\nexample for an Excel spreadsheet with image filenames in column "D":'),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{7}","{7}":!0}),'{\n    "name": "2018 Spreadsheet",\n    "sorting": "word",\n    "targets": {\n        "word": "A",\n        "definition": "B",\n        "img": "D"\n    }\n}\n')),Object(o.b)("h4",{id:"audio"},"Audio"),Object(o.b)("p",null,"For audio, you minimally have to add the filename, but you can also add\na speaker name. You can also choose between ",Object(o.b)("inlineCode",{parentName:"p"},"audio")," for audio files in\nthe target language, ",Object(o.b)("inlineCode",{parentName:"p"},"definition_audio")," for audio files of the\ndefinition, ",Object(o.b)("inlineCode",{parentName:"p"},"example_sentence_audio")," for audio files corresponding to an\nexample sentence and ",Object(o.b)("inlineCode",{parentName:"p"},"example_sentence_definition_audio")," for audio files\ncorresponding to the definitions of example sentences."),Object(o.b)("p",null,'Take the following example for an Excel spreadsheet with audio in\ncolumns "B" & "C" and example sentence audio in column "D". The\nspeaker names for audio files are in columns "E", "F", and "G"\nrespectively.'),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{7-24}","{7-24}":!0}),'{\n    "name": "2018 Spreadsheet",\n    "sorting": "word",\n    "targets": {\n        "word": "A",\n        "definition": "H",\n        "audio": [\n            { \n                "filename": "B",\n                "speaker": "E" \n            },\n            { \n                "filename": "C",\n                "speaker": "F" \n            } \n        ],\n        "example_sentence_audio": [\n            [\n                {\n                    "filename": "D",\n                    "speaker": "G"\n                }\n            ]\n        ]\n    }\n}\n')),Object(o.b)("h3",{id:"semantic-categories"},"Semantic Categories"),Object(o.b)("p",null,"To add semantic categories to your entries, you can make use of both the\n",Object(o.b)("inlineCode",{parentName:"p"},"theme")," and ",Object(o.b)("inlineCode",{parentName:"p"},"secondary_theme"),' keys in the Data Resource configuration\nfile. Using these will allow your entries to be sorted based on semantic\ncategories like "colours", or "animals" etc.'),Object(o.b)("p",null,'For example, suppose you have an Excel spreadsheet where column "A"\nhas main categories like "Animals", and column "B" has\nsub-categories like "- Fish", and "- Reptiles". Your Data Resource\ncongfiguration file would have to add the following targets:'),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{7-8}","{7-8}":!0}),'{\n    "name": "2020 Spreadsheet",\n    "sorting": "word",\n    "targets": {\n        "word": "C",\n        "definition": "D",\n        "theme": "A",\n        "secondary_theme": "B"\n    }\n}\n')),Object(o.b)("h2",{id:"approximate-search"},"Approximate Search"),Object(o.b)("p",null,"Approximate search isn't just a ",Object(o.b)("em",{parentName:"p"},"nice")," feature for dictionaries of\nendangered languages - it's usually a requirement. Often, it's\nlearners of languages that want to use dictionaries the most, and if\nyour dictionary doesn't allow approximate search, beginners might have\na hard time accessing entries in the dictionary."),Object(o.b)("h3",{id:"how-does-it-work"},"How does it work?"),Object(o.b)("p",null,"Basically, you need to tell MotherTongues two things: a list of predictable mistakes, and a corresponding list of what characters the user likely ",Object(o.b)("em",{parentName:"p"},"meant")," to type instead."),Object(o.b)("p",null,"The way you 'tell' MotherTongues these things is through the use of a character mapping file. MotherTongues makes use of the ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/roedoejet/g2p"}),"g2p")," Python Library which also has a corresponding ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://g2p-studio.herokuapp.com"}),"website"),". As per the ",Object(o.b)("inlineCode",{parentName:"p"},"g2p")," library, for each mapping, you need either a ",Object(o.b)("inlineCode",{parentName:"p"},"csv")," or ",Object(o.b)("inlineCode",{parentName:"p"},"json")," file, and an\naccompanying ",Object(o.b)("inlineCode",{parentName:"p"},"yaml")," configuration file."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"These files are in the mtd-starter repository at ",Object(o.b)("inlineCode",{parentName:"p"},"mtd-starter/transducers")))),Object(o.b)("p",null,"A possible configuration file could look like this:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-yaml"}),"mapping: danish-approx.csv\nnorm_form: NFC\nescape_special: true\ncase_sensitive: false\nauthors:\n  - Aidan Pine\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Please have a look at the ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://g2p.readthedocs.io/en/latest/?badge=latest"}),"g2p docs")," or ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/roedoejet/g2p"}),"g2p readme")," for more information"))),Object(o.b)("p",null,"You might want to make these ",Object(o.b)("inlineCode",{parentName:"p"},"mappings")," for a variety of reasons."),Object(o.b)("p",null,"Typical learner/user mistakes come from the following issues:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Learners have a hard time hearing the difference between sounds."),Object(o.b)("li",{parentName:"ol"},"Learners don't often know how to spell the different sounds."),Object(o.b)("li",{parentName:"ol"},"Some languages make it tricky to type, even if you can hear the difference and know how to spell the word.")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"See ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"http://roedoejet.github.io/cv/static/cv/pdfs/computel.pdf"}),"this\npaper")," for\nfurther discussion."))),Object(o.b)("h3",{id:"creating-a-single-mapping"},"Creating a single mapping"),Object(o.b)("p",null,"For example, in Gitksan, a learner might have a difficult time hearing the difference between a ",Object(o.b)("inlineCode",{parentName:"p"},"k")," (/k/ in the phonetic alphabet) and a ",Object(o.b)("inlineCode",{parentName:"p"},"k\u0331")," (/q/ in the phonetic alphabet). So, we can write a configuration file like so:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-yaml"}),"mapping: gitksan-approx.csv\nnorm_form: NFC\nescape_special: true\ncase_sensitive: false\nauthors:\n  - Aidan Pine\n")),Object(o.b)("p",null,"and a csv file (",Object(o.b)("inlineCode",{parentName:"p"},"gitksan-approx.csv"),") like so:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-csv"}),"k\u0331,k\n")),Object(o.b)("p",null,"We then update the ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"mtd-data-resource-configuration-file"}),"Data Resource configuration")," to include the following changes:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{6-15}","{6-15}":!0}),'{\n   "file_type":"csv",\n   "name":"words",\n   "display":"word",\n   "sorting":"sort_form",\n   "compare":"compare_form",\n   "transducers":[\n      {\n         "source":"word",\n         "target":"compare_form",\n         "functions":[\n            "../transducers/gitksan-approx.yaml"\n         ]\n      }\n   ],\n   "targets":{\n      "entryID":"0",\n      "definition":"1",\n      "word":"2",\n      "audio":[\n         {\n            "speaker":"3",\n            "filename":"4"\n         }\n      ],\n      "theme":"5",\n      "optional":[\n         {\n            "Pronunciation":"6"\n         }\n      ]\n   }\n}\n')),Object(o.b)("h3",{id:"creating-a-composite-mapping"},"Creating a 'composite' mapping"),Object(o.b)("p",null,"To string multiple mappings together, we can use a 'composite' mapping. This is a json file that contains only a list of the names of the mappings. "),Object(o.b)("p",null,"So assuming a structure like with the following 'mappings' (also known as 'transducers'):"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-raw",metastring:"{10-14}","{10-14}":!0}),"\ud83d\udce6mtd-danish\n \u2523 \ud83d\udcc2config\n \u2503 \u2523 \ud83d\udcdcconfig.json\n \u2503 \u2517 \ud83d\udcdcmanifest.json\n \u2523 \ud83d\udcc2data\n \u2503 \u2517 \ud83d\udcdcdata.csv\n \u2523 \ud83d\udcc2resources\n \u2503 \u2523 \ud83d\udcdcicon.png\n \u2503 \u2517 \ud83d\udcdcsplash.png\n \u2523 \ud83d\udcc2transducers\n \u2503 \u2517 \ud83d\udcdcdanish-approx.csv\n \u2503 \u2517 \ud83d\udcdcdanish-approx.yaml\n \u2503 \u2517 \ud83d\udcdcdanish-norm.csv\n \u2503 \u2517 \ud83d\udcdcdanish-norm.yaml\n \u2523 \ud83d\udcdc.gitignore\n \u2523 \ud83d\udcdcLICENSE\n \u2523 \ud83d\udcdcREADME.md\n \u2523 \ud83d\udcdcalphabet.csv\n \u2523 \ud83d\udcdcindex.html\n \u2517 \ud83d\udcdcrequirements.txt\n")),Object(o.b)("p",null,"We then add all the mappings we want to a json file:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'["danish-approx", "danish-norm"]\n')),Object(o.b)("p",null,"If we want to use this transducer in our dictionary, we then make the following changes to the ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"mtd-data-resource-configuration-file"}),"Data Resource Configuration"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{6-15}","{6-15}":!0}),'{\n   "file_type":"csv",\n   "name":"words",\n   "display":"word",\n   "sorting":"sort_form",\n   "compare":"compare_form",\n   "transducers":[\n      {\n         "source":"word",\n         "target":"compare_form",\n         "functions":[\n            "../transducers/gitksan-compare-composite.json"\n         ]\n      }\n   ],\n   "targets":{\n      "entryID":"0",\n      "definition":"1",\n      "word":"2",\n      "audio":[\n         {\n            "speaker":"3",\n            "filename":"4"\n         }\n      ],\n      "theme":"5",\n      "optional":[\n         {\n            "Pronunciation":"6"\n         }\n      ]\n   }\n}\n')),Object(o.b)("h3",{id:"plain-functions"},"Plain functions"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This is advanced! Don't be discouraged if you don't understand this. Have a look at ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"https://www.w3schools.com/python/python_lambda.asp"}),"Python lambda functions")," to get an idea of what's going on here."))),Object(o.b)("p",null,"You can write any lambda function instead of a transducer to process data. For example, to turn all words into upper case and store them as ",Object(o.b)("inlineCode",{parentName:"p"},"upper_form"),", you would do the following:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json",metastring:"{15-21}","{15-21}":!0}),'{\n   "file_type":"csv",\n   "name":"words",\n   "display":"word",\n   "sorting":"sort_form",\n   "compare":"compare_form",\n   "transducers":[\n      {\n         "source":"word",\n         "target":"compare_form",\n         "functions":[\n            "../transducers/gitksan-compare-composite.json"\n         ]\n      },\n      {\n         "source": "word",\n         "target": "upper_form",\n         "functions": [\n            "lambda x: x.upper()"\n         ]\n      }\n   ],\n   "targets":{\n      "entryID":"0",\n      "definition":"1",\n      "word":"2",\n      "audio":[\n         {\n            "speaker":"3",\n            "filename":"4"\n         }\n      ],\n      "theme":"5",\n      "optional":[\n         {\n            "Pronunciation":"6"\n         }\n      ]\n   }\n}\n')),Object(o.b)("h2",{id:"seeing-your-dictionary-in-action"},"Seeing your dictionary in action!"),Object(o.b)("p",null,"Once you have prepared a Language Configuration and Resource\nConfiguration files for each source of data, you need to let ",Object(o.b)("inlineCode",{parentName:"p"},"mothertongues")," put it all together!\nThis will parse all of the data according to your specifications, combine all of your sources of data,\nsort your data according to your alphabet, and generate the code necessary for your approximate search to work."),Object(o.b)("p",null,"This guide assumes that you have worked through the steps to create a valid ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"#mtd-language-configuration-file"}),"Language Configuration file")," and ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"#mtd-data-resource-configuration-file"}),"Data Resource Configuration files")," for each unique source of data. It also assumes you have a directory\nstructure similar to the one ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"#file-structure"}),"described in this guide"),"."),Object(o.b)("p",null,"First, in the command line, run the ",Object(o.b)("inlineCode",{parentName:"p"},"mtd prepare")," command. You will need to point this\ncommand at the directory with your configuration files:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"mtd prepare <directory path>")),Object(o.b)("p",null,"For example, if you are within your working directory:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"mtd prepare .")),Object(o.b)("p",null,"If successful, you will see the message:"),Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),"Successfully built static files for the following dictionaries:\n<AllYourDictionariesHere>. You may now run the app.\n")),Object(o.b)("p",null,"Next, you can run the app using ",Object(o.b)("inlineCode",{parentName:"p"},"mtd run"),". This will run the app with\nthe default Mother Tongues mobile UI. You can view it at by going to ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"http://localhost:5000/"}),"http://localhost:5000/")," in your browser."),Object(o.b)("p",null,"To use a different UI, see ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"mtd-guides-ui"}),"Adding\na User Interface"),". To build and publish the\napp on Google Play or the Apple App Store, see ",Object(o.b)("a",Object(t.a)({parentName:"p"},{href:"mtd-guides-publishing"}),"Publishing your Mother\nTongues Dictionary"),"."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If you just edit the configuration files in your clone/fork of the ",Object(o.b)("inlineCode",{parentName:"p"},"mtd-starter")," repo and push the changes, the demo will be automatically built and available at ",Object(o.b)("inlineCode",{parentName:"p"},"https://YOUR_GITHUB_USERNAME.github.io/mtd-starter/")))))}p.isMDXComponent=!0},155:function(e,n,a){"use strict";a.d(n,"a",(function(){return d})),a.d(n,"b",(function(){return u}));var t=a(0),i=a.n(t);function o(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function c(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach((function(n){o(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=i.a.createContext({}),p=function(e){var n=i.a.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):c(c({},n),e)),a},d=function(e){var n=p(e.components);return i.a.createElement(l.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},m=i.a.forwardRef((function(e,n){var a=e.components,t=e.mdxType,o=e.originalType,r=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=t,u=d["".concat(r,".").concat(m)]||d[m]||b[m]||o;return a?i.a.createElement(u,c(c({ref:n},l),{},{components:a})):i.a.createElement(u,c({ref:n},l))}));function u(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=a.length,r=new Array(o);r[0]=m;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:t,r[1]=c;for(var l=2;l<o;l++)r[l]=a[l];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);