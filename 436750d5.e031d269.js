(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{145:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return p}));var n=a(2),o=a(9),i=(a(0),a(155)),r=a(156),s={id:"mtd-guides-publishing",title:"Publishing your dictionary"},c={id:"mtd-guides-publishing",isDocsHomePage:!1,title:"Publishing your dictionary",description:"These guides assume you are comfortable with the Command Line, Git, Python) and NPM). You must have all of these installed on your machine. You are also strongly encouraged to have a GitHub account. You are encouraged to fork or clone the Mother Tongues Dictionary Starter and follow along.",source:"@site/docs/mtd-guides-publishing.mdx",permalink:"/docs/mtd-guides-publishing",editUrl:"https://github.com/MotherTongues/mothertongues-docs/edit/master/website/docs/mtd-guides-publishing.mdx",sidebar:"someSidebar",previous:{title:"Visualizing your data",permalink:"/docs/mtd-guides-ui"},next:{title:"Updating your data",permalink:"/docs/mtd-guides-update"}},l=[{value:"Mobile",id:"mobile",children:[{value:"File Structure",id:"file-structure",children:[]},{value:"Cordova Configuration",id:"cordova-configuration",children:[]},{value:"Resources",id:"resources",children:[]},{value:"GitHub Pages",id:"github-pages",children:[]}]},{value:"Android (Google Play)",id:"android-google-play",children:[{value:"Preliminary steps",id:"preliminary-steps",children:[]},{value:"Building",id:"building",children:[]},{value:"Re-building",id:"re-building",children:[]},{value:"Uploading to Google Play",id:"uploading-to-google-play",children:[]}]},{value:"iOS",id:"ios",children:[{value:"Preliminary steps",id:"preliminary-steps-1",children:[]},{value:"Building with Xcode",id:"building-with-xcode",children:[]},{value:"Rebuilding",id:"rebuilding",children:[]},{value:"fastlane",id:"fastlane",children:[]}]},{value:"Web",id:"web",children:[{value:"GitHub Pages",id:"github-pages-1",children:[]},{value:"Custom hosting",id:"custom-hosting",children:[]}]}],b={rightToc:l};function p(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"These guides assume you are comfortable with the ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Command-line_interface"}),"Command Line"),", ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Git"}),"Git"),", ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Python_(programming_language)"}),"Python")," and ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Npm_(software)"}),"NPM"),". You must have all of these installed on your machine. You are also strongly encouraged to have a ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://github.com"}),"GitHub")," account. You are encouraged to fork or clone the ",Object(i.b)("a",Object(n.a)({parentName:"em"},{href:"https://github.com/roedoejet/mtd-starter"}),"Mother Tongues Dictionary Starter")," and follow along.")),Object(i.b)("p",null,"The simplest way to publish your app is on the web. Publishing to the Android and iOS app stores is an involved process. If you're just starting out, it's highly recommended that you start with the web or mobile (GitHub Pages) deployments first before publishing to Android or iOS."),Object(i.b)("p",null,"To get started, you'll need to have ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"mtd-guides-prepare"}),"prepared")," and\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"mtd-guides-ui"}),"built")," your dictionary."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"This process for building apps, and the complexity that comes with it, is just a fact of app-building and would be the same for any other dictionary app you build. Sorry! Don't be mad at Mother Tongues! \ud83d\ude03"))),Object(i.b)("h2",{id:"mobile"},"Mobile"),Object(i.b)("p",null,"Because the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/roedoejet/mothertongues-ui"}),"mobile MTD UI")," is built with ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://ionicframework.com/"}),"Ionic"),", the code base stays the same for both Android and iOS builds. Therefore some of the changes only need to be done once."),Object(i.b)("h3",{id:"file-structure"},"File Structure"),Object(i.b)("p",null,"Note, the following is an ",Object(i.b)("em",{parentName:"p"},"incomplete")," look at the file structure of a typical ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/roedoejet/mothertongues-ui"}),"mobile MTD UI"),". When you clone/fork it, there will be other files/folders. For the purpose of this guide, these are the ones you will need to know about."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"\ud83d\udce6mothertongues-UI\n \u2523 \ud83d\udcc2plugins\n \u2523 \ud83d\udcc2resources\n \u2503 \u2523 \ud83d\udcdcicon.png\n \u2503 \u2517 \ud83d\udcdcsplash.png\n \u2523 \ud83d\udcc2src\n \u2523 \ud83d\udcc2www\n \u2523 \ud83d\udcdcconfig.xml\n \u2523 \ud83d\udcdcpackage.json\n")),Object(i.b)("h3",{id:"cordova-configuration"},"Cordova Configuration"),Object(i.b)("p",null,"Information about your app is kept in the ",Object(i.b)("inlineCode",{parentName:"p"},"config.xml")," file at the root of your ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#file-structure"}),"project"),". The vast majority of this, you will never need to edit, although you can read more about Cordova configuration ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://cordova.apache.org/docs/en/latest/config_ref/"}),"here")," if you're curious."),Object(i.b)("p",null,"The parts you will need to edit are at the very beginning of the file:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:"{3-6,9,11-12}","{3-6,9,11-12}":!0}),'<?xml version=\'1.0\' encoding=\'utf-8\'?>\n<widget \n        android-packageName="com.YOUR_ORGANIZATION.YOUR_APP_SLUG" \n        android-versionCode="10000" \n        ios-CFBundleIdentifier="com.YOUR_ORGANIZATION.YOUR_APP_SLUG" \n        version="1.0"\n        xmlns="http://www.w3.org/ns/widgets" \n        xmlns:cdv="http://cordova.apache.org/ns/1.0">\n    <name>Ehattesaht</name>\n    <description />\n    <author email="info@mothertongues.org" \n            href="http://mothertongues.org/">Aidan Pine</author>\n    <content src="index.html" />\n    ...\n')),Object(i.b)("h4",{id:"bundle-id"},"Bundle ID"),Object(i.b)("p",null,"First, change the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://stackoverflow.com/questions/11347470/what-does-bundle-identifier-mean-in-an-ios-project"}),"bundle identifiers")," for all the platforms you wish to build. For Android change ",Object(i.b)("inlineCode",{parentName:"p"},"android-packageName")," and for iOS, change ",Object(i.b)("inlineCode",{parentName:"p"},"ios-CFBundleIdentifer"),". "),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Pay attention to give your bundle ids appropriate names - you cannot change them once you've published the app. I suggest keeping the identifiers the same for both Android and iOS if possible."))),Object(i.b)("h4",{id:"version"},"Version"),Object(i.b)("p",null,"For iOS, you can set the version by changing ",Object(i.b)("inlineCode",{parentName:"p"},"version"),", but for Android, you change it by changing ",Object(i.b)("inlineCode",{parentName:"p"},"android-versionCode"),"."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"The ",Object(i.b)("inlineCode",{parentName:"p"},"version")," attribute accepts decimal values, but the ",Object(i.b)("inlineCode",{parentName:"p"},"android-versionCode")," requires 5 digit integers."))),Object(i.b)("h4",{id:"name"},"Name"),Object(i.b)("p",null,"Change your app's name by editing the text inside the ",Object(i.b)("inlineCode",{parentName:"p"},"name")," element highlighted above."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"You may have trouble uploading your app if you use certain non-ASCII characters. Frustratingly, the full list of accepted characters does not seem to be published."))),Object(i.b)("h4",{id:"author"},"Author"),Object(i.b)("p",null,"You can change your email, website and name as the author by editing the ",Object(i.b)("inlineCode",{parentName:"p"},"author")," element highlighted above."),Object(i.b)("h3",{id:"resources"},"Resources"),Object(i.b)("p",null,"Ionic will generate all of the different sizes you need for your App's icon and splash screen, but you need to first provide it with templates."),Object(i.b)("p",null,"Your source image for icons should be at least 1024x1024 and your splash screen artwork should be 2732x2732. For more information please see ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://ionicframework.com/docs/cli/commands/cordova-resources"}),"Ionic's documentation"),"."),Object(i.b)("p",null,"Once you've moved your ",Object(i.b)("inlineCode",{parentName:"p"},"icon.png")," and ",Object(i.b)("inlineCode",{parentName:"p"},"splash.png")," files to your\n",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/resources")," directory, you can generate all of the necessary icon and splash image sizes:"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"ionic cordova resources")),Object(i.b)("h3",{id:"github-pages"},"GitHub Pages"),Object(i.b)("p",null,"There is a built version of the app in ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#file-structure"}),"mothertongues-ui/www")," - just replace the ",Object(i.b)("inlineCode",{parentName:"p"},"mothertongues-ui/www/assets/js/config.js")," and ",Object(i.b)("inlineCode",{parentName:"p"},"mothertongues-ui/www/assets/js/dict_cached.js")," files with your ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"mtd-guides-ui#exporting-your-data"}),"exported data"),", commit and push the changes, and then ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.github.com/en/enterprise/2.14/user/articles/configuring-a-publishing-source-for-github-pages#:~:text=On%20GitHub%20Enterprise%2C%20navigate%20to,Click%20Save"}),"turn on GitHub Pages")," and your app will be published online."),Object(i.b)("h2",{id:"android-google-play"},"Android (Google Play)"),Object(i.b)("h3",{id:"preliminary-steps"},"Preliminary steps"),Object(i.b)("h4",{id:"google-play-developer-account"},"Google Play Developer Account"),Object(i.b)("p",null,"Before publishing your app to the Google Play store, you'll need to ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://support.google.com/googleplay/android-developer/answer/6112435?hl=en"}),"register for a Google Play Developer account"),". At current time of writing, this involves a one-time $25USD fee. The following steps can be done once you've made your account."),Object(i.b)("h4",{id:"install-android-studio"},"Install Android Studio"),Object(i.b)("p",null,"You must have ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.android.com/studio/"}),"Android Studio")," installed, and also ensure your installation includes ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.oracle.com/javase/6/docs/technotes/tools/windows/keytool.html"}),"keytool"),". You must also have the Android SDK installed that matches your ",Object(i.b)("inlineCode",{parentName:"p"},"config.xml"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:"{7}","{7}":!0}),'<?xml version=\'1.0\' encoding=\'utf-8\'?>\n<widget android-versionCode="10000" id="org.mothertongues.mtdui" version="1.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">\n    <name>mothertongues-UI</name>\n    <description />\n    <author email="info@mothertongues.org" href="http://mothertongues.org/">Aidan Pine</author>\n...\n    <preference name="android-targetSdkVersion" value="28" />\n')),Object(i.b)("h4",{id:"testing"},"Testing"),Object(i.b)("p",null,"I recommend also installing ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.genymotion.com/fun-zone/"}),"Genymotion")," to run and test your app."),Object(i.b)("h3",{id:"building"},"Building"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Create a signing key")),Object(i.b)("p",null,"You must have ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.oracle.com/javase/6/docs/technotes/tools/windows/keytool.html"}),"keytool"),". Then, run: "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"keytool -genkey -v -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000\n")),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"You can change ",Object(i.b)("inlineCode",{parentName:"p"},"my-release-key.keystore")," to any name. But it is very important to keep this file in a safe spot. If you lose it, or forget the password, you will not be able to update your app!!"))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Add the platform:")),Object(i.b)("p",null,"Make sure you're in your dictionary's directory (usually ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI"),") and then:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ionic cordova platform add android\n")),Object(i.b)("p",null,"After adding the platform, the cordova plugins that we use automatically register some permissions. Unfortunately, the Media plugin also registers the ",Object(i.b)("inlineCode",{parentName:"p"},"RECORD_AUDIO")," and ",Object(i.b)("inlineCode",{parentName:"p"},"READ_PHONE_STATE")," permissions, which we don't need for MotherTongues and which give an unnecessary warning to the installer.\nSo, to fix this, go to ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/platforms/android/android.json")," and remove the highlighted lines below:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json",metastring:"{8-11,16-19}","{8-11,16-19}":!0}),'    "AndroidManifest.xml": {\n        "parents": {\n          "/*": [\n            {\n              "xml": "<uses-permission android:name=\\"android.permission.WRITE_EXTERNAL_STORAGE\\" />",\n              "count": 3\n            },\n            {\n              "xml": "<uses-permission android:name=\\"android.permission.RECORD_AUDIO\\" />",\n              "count": 1\n            },\n            {\n              "xml": "<uses-permission android:name=\\"android.permission.MODIFY_AUDIO_SETTINGS\\" />",\n              "count": 1\n            },\n            {\n              "xml": "<uses-permission android:name=\\"android.permission.READ_PHONE_STATE\\" />",\n              "count": 1\n            }\n          ]\n        }\n      }\n    }\n  },\n  ...\n')),Object(i.b)("p",null,"Then, go to ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/platforms/android/app/src/main/AndroidManifest.xml")," and remove the following highlighted lines:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:"{14,16}","{14,16}":!0}),'<?xml version=\'1.0\' encoding=\'utf-8\'?>\n<manifest android:hardwareAccelerated="true" android:versionCode="10000" android:versionName="1.0" package="org.mothertongues.mtdui" xmlns:android="http://schemas.android.com/apk/res/android">\n    <supports-screens android:anyDensity="true" android:largeScreens="true" android:normalScreens="true" android:resizeable="true" android:smallScreens="true" android:xlargeScreens="true" />\n    <uses-permission android:name="android.permission.INTERNET" />\n    <application android:hardwareAccelerated="true" android:icon="@mipmap/ic_launcher" android:label="@string/app_name" android:supportsRtl="true">\n        <activity android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode" android:label="@string/activity_name" android:launchMode="singleTop" android:name="MainActivity" android:theme="@android:style/Theme.DeviceDefault.NoActionBar" android:windowSoftInputMode="adjustResize">\n            <intent-filter android:label="@string/launcher_name">\n                <action android:name="android.intent.action.MAIN" />\n                <category android:name="android.intent.category.LAUNCHER" />\n            </intent-filter>\n        </activity>\n    </application>\n    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />\n    <uses-permission android:name="android.permission.RECORD_AUDIO" />\n    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />\n    <uses-permission android:name="android.permission.READ_PHONE_STATE" />\n</manifest>\n')),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Build your android app:")),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ionic cordova build android --release\n")),Object(i.b)("p",null,"Your app will then be built at\n",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk"),"."),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Then, sign your app,")),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore "your.keystore" "~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk" alias_name\n')),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"Then, zip-align your app,")),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'zipalign -v 4 "~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk" "~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/release.apk"\n')),Object(i.b)("p",null,"Then, create a new app and upload your\n",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/release.apk"),"\nfile."),Object(i.b)("h3",{id:"re-building"},"Re-building"),Object(i.b)("p",null,"You must first 'bump' the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#version"}),"version")," in ",Object(i.b)("inlineCode",{parentName:"p"},"config.xml")," and follow steps 3, 4, 5 using the keystore you already created."),Object(i.b)("h3",{id:"uploading-to-google-play"},"Uploading to Google Play"),Object(i.b)("p",null,"First, log in to your Google Play account. Then, create an new application:"),Object(i.b)("img",{alt:"new app",src:Object(r.a)("img/new-app.png")}),Object(i.b)("p",null,"There, you will have to fill out information such as the title, description and contact information for your app. You will also have to complete a 'content rating', categorize your app, add screenshots, and choose the countries to allow distribution for."),Object(i.b)("p",null,"You will also have to create a new release (the screenshot shows a Beta release for example):"),Object(i.b)("img",{alt:"new release",src:Object(r.a)("img/app-release.png")}),Object(i.b)("p",null,"And:"),Object(i.b)("img",{alt:"create release",src:Object(r.a)("img/create-release.png")}),Object(i.b)("p",null,"Opt out of Google managing your signing:"),Object(i.b)("img",{alt:"opt out",src:Object(r.a)("img/opt-out.png")}),Object(i.b)("p",null,"And drag/drop your apk:"),Object(i.b)("img",{alt:"opt out",src:Object(r.a)("img/add-apk.png")}),Object(i.b)("p",null,"Then, you can upload the ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/resources/platforms/android/app/build/outputs/apk/release/release.apk")," file"),Object(i.b)("p",null,"If you've successfully checked off all of the boxes, you can review and 'roll out' your release to production to publish on the Google Play Store after testing it out.\nThe screenshot below shows boxes that ",Object(i.b)("strong",{parentName:"p"},"have not")," been checked:"),Object(i.b)("img",{alt:"opt out",src:Object(r.a)("img/check-boxes.png")}),Object(i.b)("h2",{id:"ios"},"iOS"),Object(i.b)("h3",{id:"preliminary-steps-1"},"Preliminary steps"),Object(i.b)("p",null,"You ",Object(i.b)("strong",{parentName:"p"},"must")," have a Mac do the following build steps on a Mac. Unfortunately, there's no way around this. Both ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://travis-ci.org/"}),"Travis")," and ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/features/actions"}),"GitHub Actions")," let you spin up Mac hardware, so if you don't own a Mac, you might look to adapt these steps to one of those."),Object(i.b)("h4",{id:"apple-developer-license"},"Apple Developer license"),Object(i.b)("p",null,"You must have an ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.apple.com/programs/enroll/"}),"Apple Developer License")," in order to upload an app to the Apple App Store. At time of writing, this is a ",Object(i.b)("strong",{parentName:"p"},"yearly")," $99USD fee."),Object(i.b)("h4",{id:"xcode"},"Xcode"),Object(i.b)("p",null,"Your mac must have ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://medium.com/@LondonAppBrewery/how-to-download-and-setup-xcode-10-for-ios-development-b63bed1865c"}),"Xcode installed"),". At time of writing, you must also have MacOS 10.15.0 (Catalina) or higher, Xcode 11, and iOS SDK 13 as apps targetting previous SDKs have been ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.apple.com/news/?id=09122018c"}),"disallowed since March 2019"),"."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Apple's $99USD/yr fee, constantly changing requirements, and utter lack of support make publishing on iOS a total pain. It's a shame, but they're usually a necessary evil - just remember to take deep breaths as you deal with bugs \ud83d\ude43 "))),Object(i.b)("h3",{id:"building-with-xcode"},"Building with Xcode"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Add ios platform")),Object(i.b)("p",null,"Make sure you're in your dictionary's directory (usually ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI"),") and then:"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"ionic cordova platform add ios")),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Build your iOS app:")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"ionic cordova build ios --release")),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Open the newly created xcodeproj file at ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI/platforms/ios/<YOUR_APP_NAME>.xcodeproj"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Change to 'legacy build'"))),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"File > Project Settings")),Object(i.b)("img",{alt:"legacy",src:Object(r.a)("img/legacy.png")}),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"Change plist by adding ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://stackoverflow.com/questions/35739361/itsappusesnonexemptencryption-export-compliance-while-internal-testing"}),"'App Uses Non-Exempt Encryption' to NO"))),Object(i.b)("img",{alt:"plist",src:Object(r.a)("img/plist.png")}),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://stackoverflow.com/questions/25017933/cordova-how-to-remove-push-notification-on-ios"}),"Disable Push Notifications*"))),Object(i.b)("img",{alt:"push notifications",src:Object(r.a)("img/push-notifications.png")}),Object(i.b)("p",null,"*photo cred: Steven de Salas"),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"Add your Apple Developer account")),Object(i.b)("img",{alt:"add account",src:Object(r.a)("img/add-account.png")}),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"Creating credentials")),Object(i.b)("p",null,"Frankly, code signing on iOS is a huge hassle. First, create an ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://hyperpad.zendesk.com/hc/en-us/articles/205083245-Create-an-App-ID"}),"App ID"),", then you must ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://hyperpad.zendesk.com/hc/en-us/articles/204378199-Create-a-Distribution-Provisioning-Profile"}),"create a 'distribution provisioning profile'")," in order to provision your app for being downloaded on the App Store.\nThen, you need to select 'automatic code signing' in Xcode:"),Object(i.b)("img",{alt:"auto-sign",src:Object(r.a)("img/auto-sign.png")}),Object(i.b)("ol",{start:9},Object(i.b)("li",{parentName:"ol"},"Making your app Store page")),Object(i.b)("p",null,"There are lots of ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://hyperpad.zendesk.com/hc/en-us/articles/205083485-Create-a-new-App-on-iTunes-Connect"}),"guides")," on how to do this online. But it's essentially the same as the\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#uploading-to-google-play"}),"Android process"),". You'll need to fill out some meta data and upload screenshots etc."),Object(i.b)("ol",{start:10},Object(i.b)("li",{parentName:"ol"},"Select a Generic iOS Device build target")),Object(i.b)("img",{alt:"build target",src:Object(r.a)("img/build-target.png")}),Object(i.b)("ol",{start:11},Object(i.b)("li",{parentName:"ol"},"Archive the build")),Object(i.b)("img",{alt:"archive",src:Object(r.a)("img/archive.png")}),Object(i.b)("ol",{start:12},Object(i.b)("li",{parentName:"ol"},"Then, Validate and Distribute your app")),Object(i.b)("p",null,"You'll need to select 'iOS Store' when distributing, and then 'upload'. This will upload your app to iTunes Connect where you can then test it out on TestFlight or submit it for review to be released."),Object(i.b)("img",{alt:"distribute",src:Object(r.a)("img/distribute.png")}),Object(i.b)("h3",{id:"rebuilding"},"Rebuilding"),Object(i.b)("p",null,"To re-build (after updating data for example), you must do steps 2, 3, 10, 11 and 12 from the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#building-with-xcode"}),"build")," process."),Object(i.b)("h3",{id:"fastlane"},"fastlane"),Object(i.b)("p",null,"As you can see, ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#building-with-xcode"}),"building")," can be time consuming, particularly if you have many steps. It's also difficult to keep up with the hardware requirements imposed by Apple.\nSo, you can set up ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://fastlane.tools/"}),"fastlane")," to automate some of the steps."),Object(i.b)("h2",{id:"web"},"Web"),Object(i.b)("p",null,"Building your web version is much less involved than building an app, so if this is all you need, count yourself lucky!"),Object(i.b)("h3",{id:"github-pages-1"},"GitHub Pages"),Object(i.b)("p",null,"If you've forked and cloned the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/mothertongues/mothertongues-ui-web"}),"official MotherTongues UI Web repository"),", then all you need to to is ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"mtd-guides-prepare"}),"prepare")," and ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"mtd-guides-ui"}),"build")," your dictionary and then commit and push the changes:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'cd ~/mothertongues-UI-Web && git add . && git commit -a -m "new build" && git push\n')),Object(i.b)("h3",{id:"custom-hosting"},"Custom hosting"),Object(i.b)("p",null,"To host on your own server:"),Object(i.b)("p",null,"Change the app name and i18nPrefix in ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues-UI-Web/projects/mtd/src/environments/environment.prod.ts")," to your Dictionary name and the directory your dictionary will be hosted at.\nSo, for ",Object(i.b)("inlineCode",{parentName:"p"},"https://example.com/dictionaries/mydictionary")," you would put:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript",metastring:"{2,6}","{2,6}":!0}),"export const environment = {\n  appName: 'My Dictionary',\n  envName: 'PROD',\n  production: true,\n  test: false,\n  i18nPrefix: '/dictionaries/mydictionary'\n  ...\n")),Object(i.b)("p",null,"Then, if your dictionary is being served anywhere other than at the root of your website (ie, if you put anything other than ",Object(i.b)("inlineCode",{parentName:"p"},"/")," in the ",Object(i.b)("inlineCode",{parentName:"p"},"i18nPrefix")," above) then change the ",Object(i.b)("inlineCode",{parentName:"p"},"~/mothertongues--UI-Web/package.json")," accordingly:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json",metastring:"{10}","{10}":!0}),'{\n  "name": "mtd-web-ui",\n  "version": "1.0.0",\n  "license": "MIT",\n  "scripts": {\n    "ng": "ng",\n    "start": "ng serve --open",\n    "start:prod": "npm run build:prod && npm run server",\n    "build": "ng build",\n    "build:prod": "ng build --prod --output-path build --base-href /dictionaries/mydictionary/",\n  \n  ...\n')))}p.isMDXComponent=!0},154:function(e,t,a){"use strict";var n=a(0),o=a(55);t.a=function(){return Object(n.useContext)(o.a)}},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),o=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=o.a.createContext({}),b=function(e){var t=o.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=b(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,r=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=b(a),u=n,m=p["".concat(r,".").concat(u)]||p[u]||d[u]||i;return a?o.a.createElement(m,s(s({ref:t},l),{},{components:a})):o.a.createElement(m,s({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var l=2;l<i;l++)r[l]=a[l];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(76);var n=a(154),o=a(157);function i(e,t){var a=void 0===t?{}:t,i=a.forcePrependBaseUrl,r=void 0!==i&&i,s=a.absolute,c=void 0!==s&&s,l=Object(n.a)().siteConfig,b=(l=void 0===l?{}:l).baseUrl,p=void 0===b?"/":b,d=l.url;if(!e)return e;if(r)return p+e;if(!Object(o.a)(e))return e;var u=p+e.replace(/^\//,"");return c?d+u:u}},157:function(e,t,a){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}a.d(t,"a",(function(){return n}))}}]);